# -*- mode: snippet -*-
# name: new-problem-set
# key: <pset
# type: command
# --
(let* ((file (file-name-base))
(num (replace-regexp-in-string "[a-z]" "" file))
(numProblems (read-number "How many problems? "))
<<<<<<< HEAD
 (arr (split-string file num))
=======
(arr (split-string file num))
>>>>>>> 7fdb6f72cbfe12e1b50ece3029db9b42a8d8c772
(snippet-text
"** TODO Problem Set ${1:1}
:PROPERTIES:
:EXPORT_TITLE: Problem Set $1
:EXPORT_FILE_NAME: pset$1
:EXPORT_DATE: $2
<<<<<<< HEAD
:END:"))
=======
:END:"
 (format "%s %s%s"
          (upcase (nth 0 arr))
          num
          (upcase (nth 1 arr))))))
>>>>>>> 7fdb6f72cbfe12e1b50ece3029db9b42a8d8c772
(save-excursion
(insert "\n")
(cl-loop for i from 1 to numProblems
do (progn (insert (format "*** Problem %s" i)) (insert "\n\n")))
(delete-char 1))
(yas-expand-snippet snippet-text))